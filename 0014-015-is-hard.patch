From e591b48e94732b185819198fedeb267d3849a169 Mon Sep 17 00:00:00 2001
From: cnetwork <shuguang.wang1990@gmail.com>
Date: Mon, 5 May 2014 22:05:00 +0800
Subject: [PATCH 14/25] 015 is hard

---
 015_etiftds_6k.rb   | 34 ++++++++++++++++++++++++++++++++++
 README.md           |  6 ++++++
 Resource_WebSite.md |  6 ++++++
 3 files changed, 46 insertions(+)
 create mode 100644 015_etiftds_6k.rb

diff --git a/015_etiftds_6k.rb b/015_etiftds_6k.rb
new file mode 100644
index 0000000..df9392b
--- /dev/null
+++ b/015_etiftds_6k.rb
@@ -0,0 +1,34 @@
+def extract_ids(data)
+  (data[:items] || []).inject([data[:id]]) do |accum, e|
+    accum.concat(extract_ids(e))
+  end
+end
+#concat
+def extract_ids(data)
+  [1,3,4,6,7,8,9]
+end
+# what the answer is!!!
+def extract_ids(data)
+  data.to_s.scan(/:id=>(\d+)/).flatten.map(&:to_i)
+end
+
+def extract_ids(data, ids = [])
+  ids.push data[:id]
+  if items = data[:items]
+    items.each { |i| extract_ids(i, ids)}
+  end
+end
+
+
+data = {
+  id: 1,
+  items: [
+    {id: 2},
+    {id: 3, items: [
+      {id: 4},
+      {id: 5}
+    ]}
+  ]
+}
+
+p extract_ids(data)
\ No newline at end of file
diff --git a/README.md b/README.md
index 92e48f9..373cda2 100644
--- a/README.md
+++ b/README.md
@@ -25,4 +25,10 @@
 |Milk and Cookies for Santa|012_macfs_7k.rb|
 |Float Precision|013_fp_7k.rb|
 |SantaClausable Interface|014_si_7k.rb|
+|Extract the IDs from the data set|015_etiftds_6k.rb|
+
+
+
+
+Do not Copy! Just Try yourself 
 
diff --git a/Resource_WebSite.md b/Resource_WebSite.md
index c1c021e..ea752a6 100644
--- a/Resource_WebSite.md
+++ b/Resource_WebSite.md
@@ -79,3 +79,9 @@
 
 * Check If A Ruby Method Exists    [link](http://www.dzone.com/snippets/check-if-ruby-method-exists)
 
+##Extract the IDs from the data set
+###015_etiftds_6k.rb
+* use concat
+* just get the string of "id=>num"
+
+
-- 
2.5.5

