From 33478ea33a704eba8978b840b16581d91fad7c2f Mon Sep 17 00:00:00 2001
From: cnetwork <shuguang.wang1990@gmail.com>
Date: Thu, 25 Aug 2016 22:17:58 +0800
Subject: [PATCH 20/25] add 016

---
 .DS_Store      | Bin 6148 -> 0 bytes
 016_rsic_5k.rb |  75 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 TypeAgain.rb   |   0
 3 files changed, 75 insertions(+)
 delete mode 100644 .DS_Store
 create mode 100644 016_rsic_5k.rb
 create mode 100644 TypeAgain.rb

diff --git a/.DS_Store b/.DS_Store
deleted file mode 100644
index 5008ddfcf53c02e82d7eee2e57c38e5672ef89f6..0000000000000000000000000000000000000000
GIT binary patch
literal 0
HcmV?d00001

literal 6148
zcmeH~Jr2S!425mzP>H1@V-^m;4Wg<&0T*E43hX&L&p$$qDprKhvt+--jT7}7np#A3
zem<@ulZcFPQ@L2!n>{z**<q8>++&mCkOWA81W14cNZ<zv;LbK1Poaz?KmsK2CSc!(
z0ynLxE!0092;Krf2c+FF_Fe*7ECH>lEfg7;MkzE(HCqgga^y>{tEnwC%0;vJ&^%eQ
zLs35+`xjp>T0<F0fCPF1$Cyrb|F7^5{eNG?83~ZUUlGt@xh*qZDeu<Z%US-OSsOPv
j)R!Z4KLME7ReXlK;d!wEw5GODWMKRea10D2@KpjYNUI8I

diff --git a/016_rsic_5k.rb b/016_rsic_5k.rb
new file mode 100644
index 0000000..6cc0e04
--- /dev/null
+++ b/016_rsic_5k.rb
@@ -0,0 +1,75 @@
+def search_substr( fullText, searchText, allowOverlap = true)
+	if searchText == ''
+		0
+	else
+		fullText.scan(allowOverlap ? Regexp.new("(?=(#{searchText}))") : searchText).size
+	end
+end
+
+def search_substr(fullText, searchText, allowOverlap)
+	return 0 if searchText.empty?
+	count, offset = 0, 0
+	while idx = fullText.index(searchText, offset)
+		count += 1
+		offset = idx + (allowOverlap ? 1 : searchText.length)
+	end
+	count
+end
+
+
+def search_substr(fullText, searchText, allowOverlap = true)
+	searchText.empty? || fullText.empty? ? 0: fullText.scan(/#{searchText}#{'?' if allowOverlap}/).size
+end
+
+
+
+
+
+
+
+
+def search_substr(fullText,searchText, allowOverlap = true)
+  total = 0
+  if(!allowOverlap)
+  total =  fullText.scan(/#{searchText}/).size
+  else
+#  (0..fullText.length).inject(0) { |total, i|
+#    total +((fullText[i..-1]).index(/#{searchText}/).include(0))}
+  all = (0..fullText.length).map{|i|
+     (fullText[i..-1]).index(searchText)
+   }
+  total = all.count(0)
+  if((total == fullText.length + 1) && (searchText == ''))
+    total = 0
+  else
+    total
+  end
+ end
+end
+p search_substr('aa_bb_cc_dd_bb_e', 'bb', true)
+p search_substr('aaabbbcccc', 'bbb') # should return 1
+p search_substr( 'aaa', 'aa' ) # should return 2
+p search_substr( 'aaa', '' ) # should return 0
+p search_substr( 'aaa', 'aa', false) # should return 1
+
+
+
+
+
+
+=begin
+class String
+  def all_subs substr, overlap = false
+    return scan(substr) unless overlap
+    (0...size).inject([]){ |r, i|
+      p self
+      r <<
+        ( substr.match(self[i..-1])[0]  rescue nil )
+    }.compact
+  end
+end
+
+
+p "aaaaaaaa".all_subs( /aaa/ )
+p "aaaabaaaa".all_subs( /aaa/, true )
+=end
\ No newline at end of file
diff --git a/TypeAgain.rb b/TypeAgain.rb
new file mode 100644
index 0000000..e69de29
-- 
2.5.5

